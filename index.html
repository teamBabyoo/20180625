<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE-Edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KT&amp;G 상상마당</title>
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main-new-backup-chg.css">
<!--
    <link href="https://fonts.googleapis.com/css?family=Nanum+Myeongjo" rel="stylesheet">
-->
   <link href="http://fonts.googleapis.com/css?family=Nanum+Gothic" rel="stylesheet">
    <script src="js/jquery-3.3.1.min.js"></script>
</head>
<body>
<div class="wrapper">
	<a href="#main" id="skip_nav">본문 바로가기</a>
	<div id="tnb">
		<div class="align-box">
			<ul>
				<li><a href="#">로그인</a></li>
				<li><a href="#">재능기부 &amp;참여</a></li>
				<li><a href="#">웹진 퍄퍄퍄</a></li>
			</ul>
		</div>
	</div>
	<!-- header -->
	<header id="header">
	<div class="wth1200">
		<h1 class="logo"><a href="#"><img src="img/logo.png" alt="상상마당"></a></h1>
		<nav id="gnb">
			<ul>
				<li class="sub1 mark"><a href="sub.html" >상상마당</a>
				</li>
				<li class="sub2"><a href="#">캘린더</a>
				</li>
				<li class="sub3"><a href="#">대관안내</a>
				</li>
				<li class="sub4"><a href="#">커뮤니티</a>
				</li>
				<li><a href="#"><i class="fa fa-search"></i></a>
				</li>
			</ul>
		</nav>	
	</div>
	</header>
  
  <!-- main -->	
  <main id="main">
    <div id="visual">
<!--

*li안에 div 가능?
https://www.wah.or.kr:444/Participation/consultingView.asp?cType=&seq=3348&page=1?cType=&FindTxt=&cMail=

*하나의 dt안에 2개 이상의 dd 가능?
https://www.wah.or.kr:444/Participation/consultingView.asp?cType=&seq=2046&page=1?cType=&FindTxt=&cMail=       
-->
        <ul class="slide">
            <li>
              <div class="visualImg">                
                <div class="cntx1">
                  <dt>'찰리와 초콜릿 공장' 원화작가 &lt;퀸틴 블레이크&gt;'</dt>
                  <dd class="detail">KT&amp;G 상상마당 20세기 거장 시리즈, 다섯 번째</dd>
                  <dd class="date">2018.03.08~2018.06.28</dd>
                </div>
                <img src="img/now_chalie.jpg" alt="찰리와 초콜릿 공장 원화작가 퀀틴 블레이크">
                </div>              
            </li>
            <li>
              <div class="visualImg">                
                <div class="cntx1">
                  <dt>'사운드풀 페스타 vol.1 <br>[사우스클럽X시네마선데이]'</dt>
                  <dd class="detail">한여름, 일요일마다 펼쳐지는 상상마당의 도심형 소규모 페스티벌</dd>
                  <dd class="date">2018.07.15</dd>
                </div>
                <img src="img/now_sfp.jpg" alt="사운드풀 페스타 vol.1 [사우스클럽X시네마선데이]"> 
              </div>              
            </li>
            <li>
              <div class="visualImg">                
                <div class="cntx1">
                  <dt>'첫번째 설렘' (황은미 개인전)</dt>
                  <dd class="detail">-</dd>
                  <dd class="date">2018.05.12~2018.07.01</dd>
                </div>
                <img src="img/now_hem.jpg" alt="첫번째 설렘(황은미 개인전)">
              </div>              
            </li>
        </ul>
        <ul class="indicator">
            <li class="on"><a href="#">1번 슬라이드</a></li>
            <li><a href="#">2번 슬라이드</a></li>
            <li><a href="#">3번 슬라이드</a></li>
        </ul>
        <p class="control">
            <a href="#" class="prev"><img alt="이전" src="img/btn_prev.png" /></a>
            <a href="#" class="next"><img alt="다음" src="img/btn_next.png" /></a>
            <a href="#" class="play"><i class="fa fa-pause" aria-hidden="true"><span>자동넘김/정지버튼</span></i></a>
        </p>  
    </div>    
    <div id="now">
      <div class="box">
        <h2>상상마당 Play Now</h2>
        <ul class="slide">
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_chalie.jpg" alt="찰리와초콜릿공장"></a></li>
          </div>
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_cinemasangsang.jpg" alt="상상극장"></a></li>
          </div>
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_design.jpg" alt="디자인"></a></li>
          </div>
          <div class="parent"><span>
            <li class="child"><a href="#"><!--<img src="img/resized_now_dosidosi.jpg" alt="도시예술">--></a></li></span>
          </div>
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_hem.jpg" alt="황은미 개인전"></a></li>
          </div>
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_layers.jpg" alt="레이어"></a></li>
          </div>
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_sfp.jpg" alt="사운드풀 페스티벌"></a></li>
          </div>
          <div class="parent">
            <li class="child"><a href="#"><img src="img/resized_now_uptempo.jpg" alt="업템포"></a></li>
          </div>          
        </ul>
        <p class="control">
            <a href="#" class="prev"><img alt="이전" src="img/btn_prev.png" /></a>
            <a href="#" class="next"><img alt="다음" src="img/btn_next.png" /></a>
        </p>
      </div>
      
    </div>
  <div id="wrapperTest">
    <div class="parent">
       <div class="child">
         <img src="../img/resized_now_sfp.jpg" alt="">
         <i class="fa fa-plus"></i>
       </div>
    </div>      
  </div>  
  </main>

	
</div>
	
	
	
	
	
<script>
  
$(document).on('click', 'a[href="#"]', function(e) {
  e.preventDefault();
});

/*
	$('#gnb li').on('mouseover', function() {
	$(this).addClass('on'),
  $('#gnb li a').find('#gnb li.on a').css({'color': 'white'});
	}).on('mouseleave', function() {
    $(this).removeClass('on'),
      $('#gnb li a').css({'color': '#ff5e7a'});
  })
*/
  
ImageSlide('#main #visual');
    
function ImageSlide(selector) {
    var numSlide = $(selector).find('ul.slide li').length; 
    var slideNow = 0;
    var slideNext = 0;
    var slidePrev = 0;
    var timerId = ''; 
    var timerSpeed = 8000;
    var timerStatus = 'play'; 
    
    $(selector).find('ul.slide li').each(function(i) {
        $(this).css({'left': (i * 100) + '%', 'display': 'block'});
        $('ul.slide li .visualImg .cntx1').stop().animate({'left': '100%'}, 500);
    });
    
    showSlide(1);
    
    $(selector).find('ul.indicator li a').on('click', function() {
        var index = $(selector).find('ul.indicator li').index($(this).parent());
        showSlide(index + 1);
    });
    $(selector).find('p.control a.prev').on('click', function() {
        $(this).stop(true).animate({'left': '+70px'}, 50).animate({'left': '+60px'}, 200);
        showSlide(slidePrev);
    });
    $(selector).find('p.control a.next').on('click', function() {
        $(this).stop(true).animate({'right': '+70px'}, 50).animate({'right': '+60px'}, 200);
        showSlide(slideNext);
    });
    
    $(selector).find('p.control a.play').on('click', function() {
        if (timerStatus === 'play') {
            clearTimeout(timerId);
            timerStatus = 'stop';
            $(this).find('i').attr({'class': 'fa fa-play'});
        } else {
            timerStatus = 'play';
            timerId = setTimeout(function() {showSlide(slideNext);}, timerSpeed);
            $(this).find('i').attr({'class': 'fa fa-pause'});
        }
    });
    
    function showSlide(n) {
        clearTimeout(timerId);
        if (slideNow === 0) {
            $(selector).find('ul.slide').css({'transition': 'none',  'left': (-(n - 1) * 100) + '%'});    
        } else {
            $(selector).find('ul.slide').css({'transition': 'left 0.4s' , 'left': (-(n - 1) * 100) + '%'});
        }
        $(selector).find('ul.slide').css({'left': (-(n - 1) * 100) + '%'});
        $(selector).find('ul.indicator li').removeClass('on');
        $(selector).find('ul.indicator li:eq(' + (n - 1) + ')').addClass('on'); 
        slideNow = n;
        slideNext = ((n + 1) > numSlide) ? 1 : (n + 1);
        slidePrev = ((n - 1) < 1) ? numSlide : (n - 1);
        if (timerStatus == 'play') {
            timerId = setTimeout(function() {showSlide(slideNext);}, timerSpeed);
        }       
  }
}
  
	
</script>	
</body>
</html>